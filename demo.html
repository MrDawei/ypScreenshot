<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="Expires" content="0"/>
		<meta http-equiv="Pragma" content="no-cache"/>
		<meta http-equiv="Cache-control" content="no-cache"/>
		<meta http-equiv="Cache" content="no-cache"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<title>截图插件</title>
		<!--
        	引入修正图片角度问题
        -->
		<script src="//cdn.jsdelivr.net/npm/exif-js"></script> 
		<!--
        	引入截图插件
        -->
		<link rel="stylesheet" type="text/css" href="//js-1251989042.file.myqcloud.com/zepto/css/zepto.alert.min.css">
	</head>
	<body>
		<img src="" onclick="choisImage('b');" alt="我是图片"/>
		上传入口：
		<input type="file" id="b" onchange="upload(this)" accept="image/*" />
		<br />
		回显位置:
		<br />
		<div>
			<img src="" id="img" width="50%" style="border: 1px solid red;"/>
		</div>
	</body>
	<script type="text/javascript" src="/common/js/jquery-1.8.1.js"></script>
	<script type="text/javascript" src="//js-1251989042.file.myqcloud.com/zepto/zepto.alert.min.js"></script>
	<script type="text/javascript">
		var script = document.createElement("script");
		script.src = "./screenshot.js?v="+new Date().getTime();
		document.body.appendChild(script);
		function choisImage(obj){
			$("#"+ obj).trigger("click");
		}
		function upload(e) {
			ypScreenshot({
				widthProportion: 4, //宽度参数比例
				heightProportion: 3, //高度参数比例
				file: e.files[0], //文件
				callback: function (resultData) { //返回的图片 字节流
					//示例操作
					var bodyImg = document.getElementById('img'); 
					bodyImg.src = resultData;
				}
			});
		}
	</script>
</html>
